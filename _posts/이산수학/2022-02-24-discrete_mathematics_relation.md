---
title: "이산수학 관계"
tags:
  - 이산수학
  - relation
  - 관계
  - LaTeX
use_math: true
classes: wide
---
# 목차

- [관계](#관계)
- [관계의 표현](#관계의-표현)
  - [화살도표](#화살도표)
  - [좌표도표](#좌표도표)
  - [관계행렬](#관계행렬)
  - [방향그래프](#방향그래프)
- [관계의 성질](#관계의-성질)
  - [반사관계](#반사관계)
    - [비반사 관계](#비반사-관계)
  - [대칭관계](#대칭관계)
    - [반대칭 관계](#반대칭-관계)
  - [추이관계](#추이관계)
- [관계의 연산](#관계의-연산)
  - [합성관계](#합성관계)
- [관계의 닫힘](#관계의-닫힘)
  - [반사적 닫힘](#반사적-닫힘)
  - [대칭닫힘](#대칭닫힘)
  - [추이닫힘](#추이닫힘)
- [동치관계](#동치관계)
- [부분순서관계](#부분순서관계)
  - [선행요소](#선행요소)
  - [완전순서관계](#완전순서관계)
  - [사전식 순서](#사전식-순서)
  - [하세도표(Hasse diagram)](#하세도표Hasse-diagram)
    - [극대 극소](#극대-극소)
    - [상한 하한](#상한-하한)
    - [최대 최소](#최대-최소)
- [위상정렬](#위상정렬)


## 관계



집합을 구성하는 원소들 사이에는 수많은 관계가 있다

관계의 이론적 배경이 되는 곱집합은 다음과 같다

$$A \times B = \{(a.b)│a\in A \land  b\in B\}$$



일반적으로 두 집합의 원소들 사이의 관계를 표현할 때는 두개의 원소로 구성된 순서쌍을 사용하는데

이러한 순서쌍의 집합을 이항관계(binary relation)라고 한다



두집합 $$A,B$$에 대하여 $$A$$에서 $$B$$로의 이항관계는 $$A \times B$$의 부분 집합이다 

(즉, $$\right|A \times B\left|= n$$ 일때, $$A$$에서 $$B$$로의 관계수는 $$2^n$$  개임)

이때  $$a\in A \land b\in B인 \ (a,b)\in R$$을 **a는 b에 대해 R의 관계가 있다** 고 하며 

$$_{a}R_{b}$$ 로 나타내며 첫번째 원소 집합을 정의역(domain) 두번째 원소집합을 치역(range)이라고 한다



예)

$$A = \{0,1\} \quad B = \{0,1,2\}$$

$$R = \{(a,b)\in A \times B |a\in A, b\in B, a ≥ b\}$$



일반적으로 관계라고 말할때는 이항관계에서 **이항**이 생략된 것이며, 두개이상의 집합의 원소들 사이의 관계는 $$n$$항관계(n-ary relation)로 나타낸다



집합$$A$$에서 집합$$B$$로의 관계$$R$$의 역관계는 다음과 같이 정의한다

$$R⁻^1 = \{(b,a)\in B \times A \ |\  (a,b)\in R\}$$



## 관계의 표현



### 화살도표

화살도표는 두 집합 $$A$$와 $$B$$가 있을때 집합 $$A$$의 원소 $$a$$와 $$B$$의 원소 $$b$$사이에 관계가 성립하는 경우

그 관계를 화살표를 그려서 나타내는 방법이다

### 좌표도표

화살도표는 두 집합 $$A$$와 $$B$$가 있을때 집합 $$A$$의 원소 $$a$$와 $$B$$의 원소 $$b$$사이에 관계가 성립하는 경우

원소 $$a$$를 $$x$$축에 원소 $$b$$를 $$y$$축에 점으로 표시하여 좌표에 점으로 표시하는 방법이다

### 관계행렬

화살도표는 두 집합 $$A$$와 $$B$$가 있을때 집합 $$A$$의 원소 $$a$$와 $$B$$의 원소 $$b$$사이에 관계가 성립하는 경우

모든 $$A$$의 원소를 행(세로)에 $$B$$의 원소를 열(가로)에 배치한 후

$$A$$의 원소와 $$B$$의 원소 사이에 관계가 있으면 **1**, 없으면 **0** 으로 행렬로 표현하는 방법

관계행렬은 부울행렬을 이용한 것이다

### 방향그래프

방향그래프는 하나의 집합에 대한 관계를 나타낸다

집합 $$A$$의 관계에 대한 방향그래프를 그릴때 먼저 $$A$$의 원소들을 나타내는 정점(vertex)를 그리고,

원소 $$(a,b)$$가 관계에 속하면 $$a$$ 에서 $$b$$로 화살표(edge)를 그린다

$$a$$에서 $$a$$로 edge를 그리면 loop 라고 한다



## 관계의 성질



### 반사관계

모든 $$a\in A$$ 에 대하여 $$_{a}R_{a}$$ 일 때 $$R$$은 반사관계(reflexive relation)이다

- 방향그래프로 나타낼시 모든 정점에서 루프(loop)가 있다
- 관계행렬로 나타낼시 대각원소가 모두 1이다

#### 비반사 관계

모든 $$a\in A$$ 에 대하여 $$_{a}R_{a}$$ 이 성립하지 않을 때 $$R$$은 비반사관계(irreflexive relation)이다

- 방향그래프로 나타낼시 모든 정점에서 루프(loop)가 없다
- 관계행렬로 나타낼시 대각원소가 모두 0이다

### 대칭관계

모든 $$(a,b) \in A$$ 에 대하여 $$_{a}R_{b}$$ 이면 $$_{b}R_{a}$$  일때 $$R$$은 대칭관계(symmetric relation)이다

- 방향그래프로 나타낼시 모든 화살표는 서로 주고받는 모양이다 
- 관계행렬로 나타낼시 대각선을 기준으로 행렬이 대칭이다

#### 반대칭 관계

모든 $$(a,b) \in A$$ 에 대하여 $$_{a}R_{b}$$ 이고 $$_{b}R_{a}$$ 이면 $$a = b$$ 일때 $$R$$은 반대칭관계(antisymmetric relation)이다

### 추이관계

모든 $$(a,b) \in A$$ 에 대하여 $$_{a}R_{b}$$ 이고 $$_{b}R_{c}$$ 이면  $$_{a}R_{c}$$ 일때 R은 추이관계(transitive relation)이다

- 방향그래프로 나타낼시 확인하기 쉽다



## 관계의 연산



### 합성관계

집합 $$A$$에서 $$B$$로의 관계를 $$R$$, 집합 $$B$$에서 $$C$$로의 관계를 $$S$$라고 할때

$$R$$과 $$S$$의 합성관계는 집합 $$A$$에서 $$C$$로의 관계이고 $$R\circ S$$ 로 나타낸다

- $$R^2 = R\circ R,   R^3 = R^2 \circ R,  .......$$
- 집합 $$A$$에 대한 관계$$R$$이 추이관계일때 모든 양의정수 $$n$$ 에 대하여 $$R^{n}\subset R$$ 이다



## 관계의 닫힘



### 반사적 닫힘

집합 $$A = \{1,2,3\}$$ 에 대한 관계 $$R = \{(1,2), (1,3), (2,2), (3,2)\}$$이  반사관계가 되려면 $$R$$에 최소$$(1,1), (3,3)$$이 있어야한다

이렇게 만들어진 새로운 관계를 $$R$$의 반사적 닫힘(reflextive closure)라고 한다

반사적 닫힘은 $$R$$을 포함하고 반사적이다 

- 즉, 관계 $$R$$의 반사적 닫힘은 $$R\cup \{(a,a)|a\in A\}$$ 이다

### 대칭닫힘

집합 $$A = \{1,2,3\}$$ 에 대한 관계 $$R = \{(1,2), (1,3), (2,2), (3,2)\}$$가 대칭관계가 되려면 $$R$$에 최소$$(2,1), (3,1), (2,3)$$이 있어야 한다

- 관계 $$R$$의 대칭닫힘은 $$R\cup R⁻^1$$ 과 같다

### 추이닫힘

추이닫힘은 새로운 순서쌍을 더 추가할 필요가 없을 때까지 반복적으로 순서쌍을 추가해야한다

즉, 만들기가 매우 어렵다

- 방향그래프에서 $$a$$에서 $$b$$로의 경로(path)는 한개이상의 edge로 구성된다

  $$a$$에서 $$b$$로의 길이가 $$n$$인 경로는 $$n$$개의 edge 로 구성된 것이다

- 집합 $$A$$에 대한 관계 $$R$$이 있을때 연결관계 $$R^*$$는 관계 $$R$$에 적어도 길이가 1이면서 $$a$$에서 $$b$$로의 경로가 있는 쌍$$(a,b)$$로 구성된다

  또한 $$R^n$$ 은 길이가 $$n$$이면서 $$a$$에서 $$b$$로의 경로가 있는 쌍$$(a,b)$$로 구성되므로 

   $$R^* = R\cup R^2\cup R^3\cup .....\cup R^n$$  이다

  예)  

  집합 $$A=\{1,2,3,4\}$$ 에 관한 관계 $$R=\{(1,2),(2,3),(3,4)$$} 에서 관계$$R$$을 방향그래프로 나타내면

  $$ 1\longrightarrow 2\longrightarrow 3\longrightarrow4$$ 

  이고 길이가 1인 경로쌍 $$(a,b)$$이므로 $$R^1$$이다

  $$R^2$$는 길이가 2인 경로쌍 이므로 $$1\longrightarrow 3, \quad 2\longrightarrow4$$이고 

  $$R^2 = \{(1,3),(2,4)\}$$  이다 마찬가지로

  $$R^3 = \{(1,4)\}$$

  $$ R^* = \{(1,2),(2,3),(3,4),(1,3),(2,4),(1,4)\} $$이다 

- 연결관계 $$R^*$$는 관계 $$R$$의 추이닫힘이다 

  (길이가 $$n$$인 경로쌍을 계속 추가해줌)



## 동치관계

- 반사관계, 대칭관계, 추이관계가 모두 성립하는 관계 $$R$$을 **동치관계** (equivalence relation) 라고 한다

- 집합 $$A$$에 대한 관계 $$R$$이 동치관계일 때 집합 $$A$$ 의원소 $$a$$에 대하여 $$[a]$$를 $$R$$에대한 **동치류** (equivalence classes)라고 하고 다음과 같이 정의한다

  $$[a] = \{x|(a,x)\in R\}$$

  

예)  정수의 집합에 대한 $$R = \{(a,b)ㅣa-b는 \ 5로 나누어짐\}$$ 에서 동치류를 구하여라

$$
\begin{align}
[0] &= \{....-10, -5, 0, 5, 10....\} \\

	[1] &= \{....-9 ,-4, 1, 6, 11....\}\\

	[2] &= \{....-8, -3, -2, 7, 12....\}\\
&\vdots
\end{align}
	
$$


위의 예제를 통하여 집합에 있는 각 원소는 하나의 동치류에 속하고, 각 동치류는 서로 **서로소** 이다

즉, 동치류는 집합의 분할과 깊은 관련이 있다



## 부분순서관계

- 집합 $$A$$에 관한 관계 $$R$$이 반사관계, 반대칭관계, 추이관계가 모두 성립하는 관계 $$R$$을 **부분순서관계**(partially order relation) 이라고 한다

  이때,  집합$$ A$$를 **부분순서집합**(partially ordered set, poset)이라고 한다

  

  예제) 관계 $$\leq$$ 는 부분 순서 관계인가?

  $$a\leq a$$이므로 반사관계

  $$a\leq b \ 이고 \  b\leq a$$ 이면 $$a=b$$ 이므로 반대칭관계

  $$a\leq b \ 이고\  b\leq c \ 이면\  a\leq c$$ 이므로 추이관계 

  답) 관계 $$\leq$$는 부분순서 관계이다

  

- 부분순서관계에서는 집합에 있는 요소들의 일부는 순서가 있지만 모든 요소가 순서가 있는것은 아님

- poset : 부분적 순서가 정의되는 원소들의 집합

### 선행요소

- 관계 $$R$$이 집합 $$A$$상에서 부분적 순서관계이고 $$x\neq y$$ 인 $$x,y$$에 대해 $$(x,y)\in R$$ 이라면 $$x$$를 $$y$$의 **선행요소**, $$y$$를 $$x$$의 **후행요소**라고 부른다
- $$x$$가 $$y$$의 선행요소이고 $$(x,z)\in R$$이고 ,$$(z,y)\in R$$인 $$z$$가 없다면 $$x$$를 $$y$$의 **직전선행요소** 라고 한다

### 완전순서관계

집합 $$A$$에 속하는 모든 원소들이 비교 가능하면 

관계 $$R$$을 **완전순서관계**(total order relation) 

집합 $$A$$를 **완전순서집합**(totally ordered set)이라 한다

### 사전식 순서

예를들어 사전에서 문자열의 순서를 정렬하는 방식

예)

$$ lose < love$$

$$ love < lovesick$$

$$(2,4,3) < (3,2,2)$$



### 하세도표(Hasse diagram)

부분순서관계를 방향그래프로 표현할 때, 모든 연결선을 표시할 필요가 없다. 하세도표는 다음과 같이 그린다

$$x$$가 $$y$$의 직전 선행요소(immediate predecessor)라면 노드$$x$$는 노드$$y$$밑에 놓고 $$x$$와$$y$$는 연결선(edge)으로 연결한다 (화살표도 필요없다)

#### 극대 극소

- 원소 $$a$$에 대해 선행요소가 더이상 없으면 $$a$$를 **극소 원소** 라고 한다
- 원소 $$a$$에 대해 후행요소가 더이상 없으면 $$a$$를 **극대 원소** 라고 한다
- 극대원소와 극소원소는 여러개가 될 수 있다

#### 상한 하한 

- 상한(upper bound) : poset내  부분집합의 어떤 원소보다도 큰 원소(들)
- 하한(lower bound) : poset내 부분집합의 어떤 원소보다도 작은 원소(들)

- 최소상한 :  poset내 부분 집합 A의 다른 모든 상한보다 작은 상한
- 최대하한 :  poset내 부분 집합 A의 다른 모든 하한보다 큰 하한

#### 최대 최소

- 최대원소 : poset내 어떤 원소보다 큰 원소
- 최소원소 : poset내 어떤 원소보다 작은 원소



## 위상정렬



집합 $$A = \{1,2,3,6,12,18\}$$ 관계$$ R = \{(a,b)\ | \ b는 a의 배수\}$$ 라고 하면 $$R$$은 부분순서관계 $$A$$는 부분순서집합이다

만약 집합 $$A$$의 원소들을 **위상정렬** 한다고 할때 12, 18 과 2, 3은 순서관계가 없으므로 어느것이 먼저 나오든 상관이 없다

하지만 부분 순서관계는 만족하면서 정렬을 하여야 한다

예)

**1**,2,3,**6**,12,18

**1**,2,3,**6**,18,12

**1**,3,2,**6**,12,18

**1**,3,2,**6**,18,12



  	 
